<%- include("./partials/head.ejs") %>
<style>
   section {
     position: relative;
     display: flex;
     height: 100%;
     width: 100%;
     background: #fff;
     background-image: url(/HinhAnh/wave.png);
   }
   .center{
   position: relative;
   left: 50%;
   transform: translateX(-50%);
   width: 400px;
   background: white;
   border-radius: 10px;
   box-shadow: 10px 10px 15px rgba(0,0,0,0.05);
   }
.center h1{
 text-align: center;
 padding: 20px 0;
 border-bottom: 1px solid silver;
}
.center form{
 padding: 0 40px;
 box-sizing: border-box;
}
form .txt_field{
 position: relative;
 border-bottom: 2px solid #adadad;
 margin: 30px 0;
}
.txt_field input,select{
 width: 100%;
 padding: 0 5px;
 height: 40px;
 font-size: 16px;
 border: none;
 background: none;
 outline: none;
}
.txt_field label{
 position: absolute;
 top: 50%;
 left: 5px;
 color: #adadad;
 transform: translateY(-50%);
 font-size: 16px;
 pointer-events: none;
 transition: .5s;
}
.txt_field span::before{
 content: '';
 position: absolute;
 top: 40px;
 left: 0;
 width: 0%;
 height: 2px;
 background: #2691d9;
 transition: .5s;
}
.txt_field input:focus ~ label,
.txt_field input:valid ~ label{
 top: -5px;
 color: #2691d9;
}
.txt_field input:focus ~ span::before,
.txt_field input:valid ~ span::before{
 width: 100%;
}
.pass{
 margin: -5px 0 20px 5px;
 color: #a6a6a6;
 cursor: pointer;
}
.pass:hover{
 text-decoration: underline;
}
input[type="submit"]{
 width: 100%;
 height: 50px;
 border: 1px solid;
 background: #2691d9;
 border-radius: 25px;
 font-size: 18px;
 color: #e9f4fb;
 font-weight: 700;
 cursor: pointer;
 outline: none;
}
input[type="submit"]:hover{
 border-color: #2691d9;
 transition: .5s;
}
.signup_link{
 margin: 30px 0;
 text-align: center;
 font-size: 16px;
 color: #666666;
}
.signup_link a{
 color: #2691d9;
 text-decoration: none;
}
.signup_link a:hover{
 text-decoration: underline;
}
</style>
<body>
  <%- include("./partials/nav.ejs") %>
    <section>
      
        <%- include("./partials/sidebaradminPage.ejs") %>
        <div class="center">
         <h1>Phân chuyên khoa</h1>
         <form action="/adminPageDoctorAccountDetail" id='form1'>
           <div class="txt_field">
             <select name="specialization" id="specialization">
               <% if(specializations.length>0){ %>
                  <% specializations.forEach(specialization=> { %>
                     <option value="<%= specialization.specializations %>"><%= specialization.specializations %></option>
                     <% }) %>
                     <% }else{%>
                       <p>Không có phòng nào nào...</p>
                       <% } %>
             </select>
           </div>
             <input type="hidden" name='user_id' required value="<%=user._id %>">
           
           <input type="submit" value="CẬP NHẬT">
           <div class="signup_link">
           </div>
         </form>
       </div>
      

         
        
           
           
            
            
    


    </section>

    <script>
        const form = document.getElementById("form1");
        form.addEventListener('submit', async (e)=>{
         e.preventDefault();
         const specializations = document.getElementById("specialization").value;
         const user_id = form.user_id.value;
            fetch('/adminPageDoctorAccountDetail',{
               method:'PUT',
               body:JSON.stringify({specializations,user_id}),
               headers:{'Content-Type':'application/json'} 
            })
            .then(response => response.json())
            .then(data => window.location.href=data.redirect)
            .catch(err=> console.log(err));
         })
   
    </script>
</body>



</html>